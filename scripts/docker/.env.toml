# Project configuration in TOML format
# This replaces .env.sample with better structure and metadata support

[metadata]
project_name = "my-project"
env_tag = "dev"
label_prefix = "example.com"

[control]
compose_start_mode = "abort-on-failure"
reset_before_start = "none"
image_check_enabled = false
image_check_continue_on_error = 0

[infrastructure]
public_fqdn = "example.local"
public_tls_key_pem = "/etc/letsencrypt/live/$PUBLIC_FQDN/privkey.pem"
public_tls_crt_pem = "/etc/letsencrypt/live/$PUBLIC_FQDN/fullchain.pem"

[health]
interval = "10s"
timeout = "5s"
retries = 3
start_period = "30s"

[user]
uid = "$(id -u)"
gid = "$(id -g)"

[dependencies]
paths = []

[hooks]
pre_compose = []
post_compose = []

[variables]
# Example variables with clean metadata
LOG_LEVEL = "info"
API_TOKEN = {type = "token", length = 64, charset = "hex", source = "internal"}
ADMIN_PASSWORD = {type = "password", length = 32, source = "external", description = "Administrator password"}